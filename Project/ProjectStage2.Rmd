---
title: "Project02"
author: "Max Selvaggio"
date: "2022-07-31"
output: html_document
    toc: true
    toc_float: true
    number_sections: true
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(data.table)
```


```{r}
setwd("C:\\Users\\mselv\\Documents\\GitHub\\ECO5445\\Project\\Data")
Mdata <- read.csv("hmda_sw.csv")

setnames(Mdata, old = c('s13','s46','s27a','s23a','school','s17','s7'), 
         new = c('Applicant Race','Debt to Income Ratio','Self-Employed','Marital Status',
                 'Years of Education','Applicant Income','Action Taken'))

Mdata[Mdata == 999999.4] <- NA
Mdata$`Action Taken`[Mdata$`Action Taken` == 1] <- 'Approved'
Mdata$`Action Taken`[Mdata$`Action Taken` == 2] <- 'Approved'
Mdata$`Action Taken`[Mdata$`Action Taken` == 3] <- 'Denied'

Mdata["Applicant Race"][Mdata["Applicant Race"] == "3"] <- "Black"
Mdata["Applicant Race"][Mdata["Applicant Race"] == "5"] <- "White"

Mdata["Self-Employed"][Mdata["Self-Employed"] == "0"] <- "No"
Mdata["Self-Employed"][Mdata["Self-Employed"] == "1"] <- "Yes"

Mdata$`Applicant Income` <- Mdata$`Applicant Income`*1000
```

The variable "Action Taken" is our qualitative dependent because the approval or denial of a mortgage is the output we are attempting to predict with this model. The reason these variables were chosen is because it is important to have "variables correlated with both race's role and creditworthiness"(Page 1, "Mortgage Lending in Boston: Interpreting HMDA Data"). As the paper indicates, previous studies of how race played a part in the mortgage process did not properly include financial variables as well, and therefore the results were skewed. With these variables, we will be able to see race's affect as well as the affect of general financial measures in the mortgage approval process.

```{r}
newdata <- data.frame(Mdata$`Action Taken`,Mdata$`Applicant Race`,Mdata$`Applicant Income`,
                      Mdata$`Self-Employed`,Mdata$`Marital Status`,Mdata$`Years of Education`,
                      Mdata$`Debt to Income Ratio`)
summary(newdata)

table(newdata$Mdata..Applicant.Race.) 





```

Notes from different graphs and summary statistics:

Based off the table, you see in the dataset 2041/2380 (86%) of applicants are white.
